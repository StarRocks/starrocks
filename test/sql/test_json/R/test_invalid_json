-- name: test_invalid_json
CREATE DATABASE test_invalid_json;
-- result:
-- !result
USE test_invalid_json;
-- result:
-- !result
CREATE TABLE `t_invalid_json` (
  `k1` date NULL COMMENT "",
  `k2` datetime NULL COMMENT "",
  `k3` varchar(200) NULL COMMENT "",
  `k4` varchar(200) NULL COMMENT "",
  `k5` boolean NULL COMMENT "",
  `v1` tinyint(4) NULL COMMENT "",
  `v2` smallint(6) NULL COMMENT "",
  `v3` int(11) NULL COMMENT "",
  `v4` bigint(20) NULL COMMENT "",
  `v5` largeint(40) NULL COMMENT "",
  `v6` float NULL COMMENT "",
  `v7` double NULL COMMENT "",
  `v8` char(20) NULL COMMENT "",
  `v9` decimal(10, 5) NULL COMMENT "",
  `v10` array<int(11)> NULL COMMENT "",
  `v11` json NULL COMMENT "",
  `v12` char(20) NULL COMMENT "",
  `v13` varchar(20) NULL COMMENT "",
  `v14` boolean NULL COMMENT "",
  `v15` tinyint(4) NULL COMMENT "",
  `v16` smallint(6) NULL COMMENT "",
  `v17` int(11) NULL COMMENT "",
  `v18` bigint(20) NULL COMMENT "",
  `v19` largeint(40) NULL COMMENT "",
  `v20` float NULL COMMENT "",
  `v21` double NULL COMMENT "",
  `v22` char(20) NULL COMMENT "",
  `v23` decimal(10, 5) NULL COMMENT "",
  `v24` date NULL COMMENT "",
  `v25` datetime NULL COMMENT "",
  `v26` char(20) NULL COMMENT "",
  `v27` varchar(20) NULL COMMENT "",
  `v28` boolean NULL COMMENT "",
  `v29` tinyint(4) NULL COMMENT "",
  `v30` smallint(6) NULL COMMENT "",
  `v31` int(11) NULL COMMENT "",
  `v32` bigint(20) NULL COMMENT "",
  `v33` largeint(40) NULL COMMENT "",
  `v34` float NULL COMMENT "",
  `v35` double NULL COMMENT "",
  `v36` char(20) NULL COMMENT "",
  `v37` decimal(10, 5) NULL COMMENT "",
  `v38` date NULL COMMENT "",
  `v39` datetime NULL COMMENT "",
  `v40` char(20) NULL COMMENT "",
  `v41` varchar(20) NULL COMMENT "",
  `v42` boolean NULL COMMENT "",
  `v43` tinyint(4) NULL COMMENT "",
  `v44` smallint(6) NULL COMMENT "",
  `v45` int(11) NULL COMMENT "",
  `v46` bigint(20) NULL COMMENT "",
  `v47` largeint(40) NULL COMMENT "",
  `v48` float NULL COMMENT "",
  `v49` double NULL COMMENT "",
  `v50` char(20) NULL COMMENT "",
  `v51` decimal(10, 5) NULL COMMENT "",
  `v52` date NULL COMMENT "",
  `v53` datetime NULL COMMENT "",
  `v54` char(20) NULL COMMENT "",
  `v55` varchar(20) NULL COMMENT "",
  `v56` boolean NULL COMMENT "",
  `v57` tinyint(4) NULL COMMENT "",
  `v58` smallint(6) NULL COMMENT "",
  `v59` int(11) NULL COMMENT "",
  `v60` bigint(20) NULL COMMENT "",
  `v61` largeint(40) NULL COMMENT "",
  `v62` float NULL COMMENT "",
  `v63` double NULL COMMENT "",
  `v64` char(20) NULL COMMENT "",
  `v65` decimal(10, 5) NULL COMMENT "",
  `v66` date NULL COMMENT "",
  `v67` datetime NULL COMMENT "",
  `v68` char(20) NULL COMMENT "",
  `v69` varchar(20) NULL COMMENT "",
  `v70` boolean NULL COMMENT "",
  `v71` tinyint(4) NULL COMMENT "",
  `v72` smallint(6) NULL COMMENT "",
  `v73` int(11) NULL COMMENT "",
  `v74` bigint(20) NULL COMMENT "",
  `v75` largeint(40) NULL COMMENT "",
  `v76` float NULL COMMENT "",
  `v77` double NULL COMMENT "",
  `v78` char(20) NULL COMMENT "",
  `v79` decimal(10, 5) NULL COMMENT "",
  `v80` date NULL COMMENT "",
  `v81` datetime NULL COMMENT "",
  `v82` char(20) NULL COMMENT "",
  `v83` varchar(20) NULL COMMENT "",
  `v84` boolean NULL COMMENT "",
  `v85` tinyint(4) NULL COMMENT "",
  `v86` smallint(6) NULL COMMENT "",
  `v87` int(11) NULL COMMENT "",
  `v88` bigint(20) NULL COMMENT "",
  `v89` largeint(40) NULL COMMENT "",
  `v90` float NULL COMMENT "",
  `v91` double NULL COMMENT "",
  `v92` char(20) NULL COMMENT "",
  `v93` decimal(10, 5) NULL COMMENT "",
  `v94` date NULL COMMENT "",
  `v95` datetime NULL COMMENT "",
  `v96` char(20) NULL COMMENT "",
  `v97` varchar(20) NULL COMMENT "",
  `v98` boolean NULL COMMENT "",
  `v99` tinyint(4) NULL COMMENT "",
  `v100` smallint(6) NULL COMMENT "",
  `v101` int(11) NULL COMMENT "",
  `v102` bigint(20) NULL COMMENT "",
  `v103` largeint(40) NULL COMMENT "",
  `v104` float NULL COMMENT "",
  `v105` double NULL COMMENT "",
  `v106` char(20) NULL COMMENT "",
  `v107` decimal(10, 5) NULL COMMENT "",
  `v108` date NULL COMMENT "",
  `v109` datetime NULL COMMENT "",
  `v110` char(20) NULL COMMENT "",
  `v111` varchar(20) NULL COMMENT "",
  `v112` boolean NULL COMMENT "",
  `v113` tinyint(4) NULL COMMENT "",
  `v114` smallint(6) NULL COMMENT "",
  `v115` int(11) NULL COMMENT "",
  `v116` bigint(20) NULL COMMENT "",
  `v117` largeint(40) NULL COMMENT "",
  `v118` float NULL COMMENT "",
  `v119` double NULL COMMENT "",
  `v120` char(20) NULL COMMENT "",
  `v121` decimal(10, 5) NULL COMMENT "",
  `v122` date NULL COMMENT "",
  `v123` datetime NULL COMMENT "",
  `v124` char(20) NULL COMMENT "",
  `v125` varchar(20) NULL COMMENT "",
  `v126` boolean NULL COMMENT "",
  `v127` tinyint(4) NULL COMMENT "",
  `v128` smallint(6) NULL COMMENT "",
  `v129` int(11) NULL COMMENT "",
  `v130` bigint(20) NULL COMMENT "",
  `v131` largeint(40) NULL COMMENT "",
  `v132` float NULL COMMENT "",
  `v133` double NULL COMMENT "",
  `v134` char(20) NULL COMMENT "",
  `v135` decimal(10, 5) NULL COMMENT "",
  `v136` date NULL COMMENT "",
  `v137` datetime NULL COMMENT "",
  `v138` char(20) NULL COMMENT "",
  `v139` varchar(20) NULL COMMENT "",
  `v140` boolean NULL COMMENT "",
  `v141` tinyint(4) NULL COMMENT "",
  `v142` smallint(6) NULL COMMENT "",
  `v143` int(11) NULL COMMENT "",
  `v144` bigint(20) NULL COMMENT "",
  `v145` largeint(40) NULL COMMENT "",
  `v146` float NULL COMMENT "",
  `v147` double NULL COMMENT "",
  `v148` char(20) NULL COMMENT "",
  `v149` decimal(10, 5) NULL COMMENT "",
  `v150` date NULL COMMENT "",
  `v151` datetime NULL COMMENT "",
  `v152` char(20) NULL COMMENT "",
  `v153` varchar(20) NULL COMMENT "",
  `v154` boolean NULL COMMENT "",
  `v155` tinyint(4) NULL COMMENT "",
  `v156` smallint(6) NULL COMMENT "",
  `v157` int(11) NULL COMMENT "",
  `v158` bigint(20) NULL COMMENT "",
  `v159` largeint(40) NULL COMMENT "",
  `v160` float NULL COMMENT "",
  `v161` double NULL COMMENT "",
  `v162` char(20) NULL COMMENT "",
  `v163` decimal(10, 5) NULL COMMENT "",
  `v164` date NULL COMMENT "",
  `v165` datetime NULL COMMENT "",
  `v166` char(20) NULL COMMENT "",
  `v167` varchar(20) NULL COMMENT "",
  `v168` boolean NULL COMMENT "",
  `v169` tinyint(4) NULL COMMENT "",
  `v170` smallint(6) NULL COMMENT "",
  `v171` int(11) NULL COMMENT "",
  `v172` bigint(20) NULL COMMENT "",
  `v173` largeint(40) NULL COMMENT "",
  `v174` float NULL COMMENT "",
  `v175` double NULL COMMENT "",
  `v176` char(20) NULL COMMENT "",
  `v177` decimal(10, 5) NULL COMMENT "",
  `v178` date NULL COMMENT "",
  `v179` datetime NULL COMMENT "",
  `v180` char(20) NULL COMMENT "",
  `v181` varchar(20) NULL COMMENT "",
  `v182` boolean NULL COMMENT "",
  `v183` tinyint(4) NULL COMMENT "",
  `v184` smallint(6) NULL COMMENT "",
  `v185` int(11) NULL COMMENT "",
  `v186` bigint(20) NULL COMMENT "",
  `v187` largeint(40) NULL COMMENT "",
  `v188` float NULL COMMENT "",
  `v189` double NULL COMMENT "",
  `v190` char(20) NULL COMMENT "",
  `v191` decimal(10, 5) NULL COMMENT ""
) ENGINE=OLAP
DUPLICATE KEY(`k1`, `k2`, `k3`, `k4`, `k5`)
PARTITION BY date_trunc('year', k1)
DISTRIBUTED BY HASH(`k1`, `k2`, `k3`, `k4`, `k5`) BUCKETS 64
PROPERTIES (
"compression" = "LZ4",
"fast_schema_evolution" = "true",
"replicated_storage" = "true",
"replication_num" = "1"
);
-- result:
-- !result
shell: curl --location-trusted -u root: -T ${root_path}/lib/../common/data/stream_load/sr_invalid_json.json -XPUT -H label:stream_load_test_invalid_json_1 -H "format: json" ${url}/api/test_invalid_json/t_invalid_json/_stream_load
-- result:
0
{
    "Status": "Success",
    "Message": "OK"
}
-- !result
sync;
-- result:
-- !result
SELECT v10, v11 FROM t_invalid_json;
-- result:
None	None
-- !result
DROP TABLE t_invalid_json;
-- result:
-- !result
DROP DATABASE test_invalid_json;
-- result:
-- !result