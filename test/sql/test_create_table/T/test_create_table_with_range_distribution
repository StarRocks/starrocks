-- name: test_create_table_with_range_distribution

admin set frontend config ("enable_range_distribution" = "true");

CREATE TABLE dup_table1 (
    tenant_id varchar(128),
    created_time datetime,
    id int, 
    name varchar(64)
)
ORDER BY (tenant_id, created_time, id);

CREATE TABLE dup_table2 (
    tenant_id varchar(128),
    created_time datetime,
    id int, 
    name varchar(64)
)
DUPLICATE KEY (tenant_id, created_time, id);

CREATE TABLE dup_table3 (
    tenant_id varchar(128),
    created_time datetime,
    id int, 
    name varchar(64)
)
DUPLICATE KEY (tenant_id)
ORDER BY (tenant_id, created_time, id);

CREATE TABLE random_table (
    tenant_id varchar(128),
    created_time datetime,
    id int, 
    name varchar(64)
);

CREATE TABLE pk_table1 (
    tenant_id varchar(128),
    created_time datetime,
    id int, 
    name varchar(64)
)
PRIMARY KEY (tenant_id, created_time, id);

SHOW PARTITIONS FROM pk_table1;

CREATE TABLE pk_table2 (
    tenant_id varchar(128),
    created_time datetime,
    id int, 
    name varchar(64)
)
PRIMARY KEY (tenant_id, created_time, id)
ORDER BY (tenant_id, id, created_time);

SHOW PARTITIONS FROM pk_table2;

CREATE TABLE not_supported_pk_table (
    tenant_id varchar(128),
    created_time datetime,
    id int, 
    name varchar(64)
)
PRIMARY KEY (tenant_id, created_time, id)
ORDER BY (name);

admin set frontend config ("enable_range_distribution" = "false");