name: Report on the pull request

# read-write repo token
# access to secrets
on:
  workflow_run:
    workflows: [ "PR TEST PIPELINE" ]
    types:
      - completed

jobs:
  upload:
    runs-on: [ self-hosted, normal ]
    if: >
      github.event.workflow_run.event == 'pull_request' &&
      github.event.workflow_run.conclusion == 'success'
    steps:
      - name: 'Report Test'
        run: |
          echo workflow
#
#  fe-codestyle-check-report:
#    runs-on: [ self-hosted, normal ]
#    name: FE
#    if: >
#      github.event.workflow_run.event == 'pull_request' &&
#      github.event.workflow_run.conclusion == 'success'
#    steps:
#      - name: Run java checkstyle
#        if: ${{ steps.java-file.outputs.java == 'true' }}
#        uses: dbelyaev/action-checkstyle@v0.7.5
#        with:
#          workdir: "./fe"
#          checkstyle_config: checkstyle.xml
#          reporter: 'github-pr-check'
#          github_token: ${{ secrets.GITHUB_TOKEN }}
#          fail_on_error: true
#          level: error

