---
displayed_sidebar: docs
---

# unixtime\_to\_datetime
> 将 Unix 时间戳转换为 `DATETIME` 类型。

`unixtime_to_datetime` 将自 1970-01-01 00:00:00 UTC 起的 Unix 时间戳转换为 StarRocks 的 `DATETIME`。
函数支持两种调用形式：

| 参数        | 说明                                                                  |
| --------- | ------------------------------------------------------------------- |
| `unix_ts` | **必选**。Unix 时间戳。支持 `BIGINT`。                     |
| `scale`   | **可选**。时间戳的单位粒度：<br/>  • `0` → 秒（默认）<br/>  • `3` → 毫秒<br/>  • `6` → 微秒 |

当 `scale` 省略时，函数按秒级解析；设置为 3 或 6 即可解析毫秒/微秒级时间戳。
若 `scale` 不在 {0, 3, 6}，或解析结果超出 `DATETIME` 可表达范围 (0001-01-01 – 9999-12-31)，函数返回 `NULL`。

---

## 语法 

```haskell
DATETIME unixtime_to_datetime(BIGINT unix_ts)
DATETIME unixtime_to_datetime(BIGINT unix_ts, INT scale)
```

---

## 参数说明

| 参数        | 类型                  | 必需           | 描述                                                                           |
| --------- | ------------------- | ------------ | ---------------------------------------------------------------------------- |
| `unix_ts` | `BIGINT`  | 是  | Unix 时间戳值。<br/>例如 `1598306400`（秒）、`1598306400123`（毫秒）、`1598306400123456`（微秒）。 |
| `scale`   | `INT`               | 否 | 时间戳单位粒度。<br/>`0`=秒（默认） · `3`=毫秒 · `6`=微秒。                                     |

---

## 返回值

* 成功：返回对应日期时间的 `DATETIME` 值，精确到 microsecond。
* 失败：返回 `NULL`，常见原因包括

  * `scale` 不是 0 / 3 / 6
  * 结果早于 0001-01-01 或晚于 9999-12-31

---

## 示例 

### 秒级 

```sql
mysql> SELECT unixtime_to_datetime(1598306400);
+-----------------------------+
| unixtime_to_datetime(1598306400)     |
+-----------------------------+
| 2020-08-24 22:00:00         |
+-----------------------------+
```

### 毫秒级 

```sql
mysql> SELECT unixtime_to_datetime(1598306400123, 3);
+--------------------------------------+
| unixtime_to_datetime(1598306400123)  |
+--------------------------------------+
| 2020-08-24 22:00:00.123000           |
+--------------------------------------+
```

### 微秒级

```sql
mysql> SELECT unixtime_to_datetime(1598306400123456, 6);
+-----------------------------------------+
| unixtime_to_datetime(1598306400123456)  |
+-----------------------------------------+
| 2020-08-24 22:00:00.123456              |
+-----------------------------------------+
```

### 非法 `scale` 返回 NULL 

```sql
mysql> SELECT unixtime_to_datetime(1598306400, 10);
+----------------------------------+
| unixtime_to_datetime(1598306400) |
+----------------------------------+
| NULL                             |
+----------------------------------+
```

---
