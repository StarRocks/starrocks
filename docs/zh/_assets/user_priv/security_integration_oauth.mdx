### 使用 OAuth 2.0 创建安全集成

#### 语法

```SQL
CREATE SECURITY INTEGRATION <security_integration_name> 
PROPERTIES (
    "type" = "authentication_oauth2",
    "auth_server_url" = "",
    "token_server_url" = "",
    "client_id" = "",
    "client_secret" = "",
    "redirect_url" = "",
    "jwks_url" = "",
    "principal_field" = "",
    "required_issuer" = "",
    "required_audience" = ""
    "comment" = ""
)
```

#### 参数

##### security_integration_name

- 必需：是
- 描述：安全集成的名称。<br />**注意**<br />安全集成名称是全局唯一的。您不能将此参数指定为 `native`。

##### auth_server_url

- 必需：是
- 描述：授权 URL。用户浏览器将被重定向到此 URL 以开始 OAuth 2.0 授权过程。

##### token_server_url

- 必需：是
- 描述：StarRocks 从中获取访问令牌的授权服务器端点的 URL。

##### client_id

- 必需：是
- 描述：StarRocks 客户端的公共标识符。

##### client_secret

- 必需：是
- 描述：用于授权 StarRocks 客户端与授权服务器通信的密钥。

##### redirect_url

- 必需：是
- 描述：OAuth 2.0 身份验证成功后，用户浏览器将被重定向到的 URL。授权代码将发送到此 URL。在大多数情况下，需要将其配置为 `http://<starrocks_fe_url>:<fe_http_port>/api/oauth2`。

##### type

- 必需：是
- 描述：安全集成的类型。指定为 `authentication_oauth2`。

##### jwks_url

- 必需：是
- 描述：JSON Web Key Set (JWKS) 服务的 URL 或 `fe/conf` 目录下本地文件的路径。

##### principal_field

- 必需：是
- 描述：用于标识 JWT 中主题 (`sub`) 的字段的字符串。默认值为 `sub`。此字段的值必须与登录 StarRocks 的用户名相同。

##### required_issuer

- 必需：否
- 描述：用于标识 JWT 中发行者 (`iss`) 的字符串列表。仅当列表中的某个值与 JWT 发行者匹配时，JWT 才被视为有效。

##### required_audience

- 必需：否
- 描述：用于标识 JWT 中受众 (`aud`) 的字符串列表。仅当列表中的某个值与 JWT 受众匹配时，JWT 才被视为有效。

##### comment

- 必需：否
- 描述：安全集成的描述。
