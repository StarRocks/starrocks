---
displayed_sidebar: docs
sidebar_position: 60
---

<<<<<<< HEAD:docs/ja/administration/query_profile_text_based_analysis.md
# ãƒ†ã‚­ã‚¹ãƒˆãƒ™ãƒ¼ã‚¹ã® Query Profile ã®å¯è¦–åŒ–åˆ†æ

MySQL ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’é€šã˜ã¦ãƒ†ã‚­ã‚¹ãƒˆãƒ™ãƒ¼ã‚¹ã® Query Profile ã‚’å–å¾—ã—ã€åˆ†æã™ã‚‹æ–¹æ³•ã€‚
=======
# Explain Analyze

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ã€StarRocks ã§ãƒ†ã‚­ã‚¹ãƒˆãƒ™ãƒ¼ã‚¹ã® Query Profile ã‚’å–å¾—ã—ã€åˆ†æã™ã‚‹æ–¹æ³•ã‚’èª¬æ˜ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã‚¯ã‚¨ãƒªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’ç†è§£ã—ã€SQL ã‚¯ã‚¨ãƒªã‚’æœ€é©åŒ–ã™ã‚‹æ–¹æ³•ã‚’è¦‹ã¤ã‘ã‚‹æ‰‹åŠ©ã‘ã‚’ã—ã¾ã™ã€‚
>>>>>>> 65a3c16e86 ([Doc] refactor query tuning best practice (#60935)):docs/ja/best_practices/query_tuning/query_profile_text_based_analysis.md

## ANALYZE PROFILE ã‚’ä½¿ç”¨ã—ã¦æ—¢å­˜ã‚¯ã‚¨ãƒªã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†æã™ã‚‹

<<<<<<< HEAD:docs/ja/administration/query_profile_text_based_analysis.md
ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼å†…ã®æ—¢å­˜ï¼ˆå±¥æ­´ã¾ãŸã¯å®Ÿè¡Œä¸­ï¼‰ã®ã‚¯ã‚¨ãƒªã®ãƒ†ã‚­ã‚¹ãƒˆãƒ™ãƒ¼ã‚¹ã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†æã™ã‚‹ã«ã¯ã€ã¾ãš [SHOW PROFILELIST](../sql-reference/sql-statements/cluster-management/plan_profile/SHOW_PROFILELIST.md) ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¦ã‚¯ã‚¨ãƒªã®æ¦‚è¦ã‚’å–å¾—ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®ã‚³ãƒãƒ³ãƒ‰ã¯ã€æ­£å¸¸ã«çµ‚äº†ã—ãŸã‚¯ã‚¨ãƒªã€ã‚¨ãƒ©ãƒ¼ã§å¤±æ•—ã—ãŸã‚¯ã‚¨ãƒªã€ãŠã‚ˆã³ã¾ã çµ‚äº†ã—ã¦ã„ãªã„ï¼ˆ10 ç§’ä»¥ä¸Šå®Ÿè¡Œä¸­ã®ï¼‰ã‚¯ã‚¨ãƒªã‚’ä¸€è¦§è¡¨ç¤ºã—ã¾ã™ã€‚ã“ã®ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã‚’é€šã˜ã¦ã€å¾Œç¶šã®åˆ†æã®ãŸã‚ã®å¯¾å¿œã™ã‚‹ Query ID ã‚’å–å¾—ã§ãã¾ã™ã€‚æ§‹æ–‡ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚
=======
ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼å†…ã®æ—¢å­˜ã®ï¼ˆå±¥æ­´ã¾ãŸã¯å®Ÿè¡Œä¸­ã®ï¼‰ã‚¯ã‚¨ãƒªã®ãƒ†ã‚­ã‚¹ãƒˆãƒ™ãƒ¼ã‚¹ã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†æã™ã‚‹ã«ã¯ã€ã¾ãš [SHOW PROFILELIST](../../sql-reference/sql-statements/cluster-management/plan_profile/SHOW_PROFILELIST.md) ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¦ã‚¯ã‚¨ãƒªã®æ¦‚è¦ã‚’å–å¾—ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®ã‚³ãƒãƒ³ãƒ‰ã¯ã€æ­£å¸¸ã«çµ‚äº†ã—ãŸã‚¯ã‚¨ãƒªã€ã‚¨ãƒ©ãƒ¼ã§å¤±æ•—ã—ãŸã‚¯ã‚¨ãƒªã€ãŠã‚ˆã³ã¾ã å®Ÿè¡Œä¸­ã®ã‚¯ã‚¨ãƒªï¼ˆ10 ç§’ä»¥ä¸ŠçµŒéã—ã¦ã‚‚çµ‚äº†ã—ã¦ã„ãªã„ã‚‚ã®ï¼‰ã‚’ä¸€è¦§è¡¨ç¤ºã—ã¾ã™ã€‚ã“ã®ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã‚’é€šã˜ã¦ã€å¾Œç¶šã®åˆ†æã®ãŸã‚ã®å¯¾å¿œã™ã‚‹ Query ID ã‚’å–å¾—ã§ãã¾ã™ã€‚æ§‹æ–‡ã¯æ¬¡ã®ã¨ãŠã‚Šã§ã™ã€‚
>>>>>>> 65a3c16e86 ([Doc] refactor query tuning best practice (#60935)):docs/ja/best_practices/query_tuning/query_profile_text_based_analysis.md

```SQL
SHOW PROFILELIST [LIMIT <num>];
```

ä¾‹:

```SQL
SHOW PROFILELIST;
SHOW PROFILELIST LIMIT 5;
```

å‡ºåŠ›:

```plaintext
+--------------------------------------+---------------------+-------+----------+-----------------------------------------------------------------------------------------------------------------------------------+
| QueryId                              | StartTime           | Time  | State    | Statement                                                                                                                         |
+--------------------------------------+---------------------+-------+----------+-----------------------------------------------------------------------------------------------------------------------------------+
| a40456b2-8428-11ee-8d02-6a32f8c68848 | 2023-11-16 10:34:18 | 21ms  | Finished | SELECT ROUTINE_NAME FROM INFORMATION_SCHEMA.ROUTINES\n    WHERE ROUTINE_TYPE="FUNCTION" AND ROUTINE_SCHEMA = "None"               |
| a3fc4060-8428-11ee-8d02-6a32f8c68848 | 2023-11-16 10:34:17 | 39ms  | Finished | select TABLE_NAME, COLUMN_NAME from information_schema.columns\n                                    where table_schema = 'Non ... |
| a3f7d38d-8428-11ee-8d02-6a32f8c68848 | 2023-11-16 10:34:17 | 15ms  | Finished | select connection_id()                                                                                                            |
| a3efbd3b-8428-11ee-8d02-6a32f8c68848 | 2023-11-16 10:34:17 | 16ms  | Finished | select connection_id()                                                                                                            |
| a26ec286-8428-11ee-8d02-6a32f8c68848 | 2023-11-16 10:34:15 | 269ms | Error    | EXPLAIN ANALYZE  SELECT c_nation, s_nation, year(lo_orderdate) AS year , SUM(lo_revenue) AS revenue FROM lineorder_flat WHERE ...  |
+--------------------------------------+---------------------+-------+----------+-----------------------------------------------------------------------------------------------------------------------------------+
```

<<<<<<< HEAD:docs/ja/administration/query_profile_text_based_analysis.md
Query ID ã‚’å–å¾—ã—ãŸã‚‰ã€[ANALYZE PROFILE](../sql-reference/sql-statements/cluster-management/plan_profile/ANALYZE_PROFILE.md) ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¦ Query Profile ã®åˆ†æã‚’é€²ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚æ§‹æ–‡ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚
=======
Query ID ã‚’å–å¾—ã—ãŸã‚‰ã€[ANALYZE PROFILE](../../sql-reference/sql-statements/cluster-management/plan_profile/ANALYZE_PROFILE.md) ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¦ Query Profile ã®åˆ†æã‚’é€²ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚æ§‹æ–‡ã¯æ¬¡ã®ã¨ãŠã‚Šã§ã™ã€‚
>>>>>>> 65a3c16e86 ([Doc] refactor query tuning best practice (#60935)):docs/ja/best_practices/query_tuning/query_profile_text_based_analysis.md

```SQL
ANALYZE PROFILE FROM '<Query_ID>' [, <Node_ID> [, ...] ]
```

- `Query_ID`: `SHOW PROFILELIST` ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã‹ã‚‰å–å¾—ã—ãŸã‚¯ã‚¨ãƒªã«å¯¾å¿œã™ã‚‹ IDã€‚
<<<<<<< HEAD:docs/ja/administration/query_profile_text_based_analysis.md
- `Node_ID`: ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒ¼ãƒ‰ IDã€‚æŒ‡å®šã•ã‚ŒãŸ ID ã®ãƒãƒ¼ãƒ‰ã«ã¤ã„ã¦ã¯ã€StarRocks ã¯è©³ç´°ãªãƒ¡ãƒˆãƒªãƒƒã‚¯æƒ…å ±ã‚’è¿”ã—ã¾ã™ã€‚æŒ‡å®šã•ã‚Œã¦ã„ãªã„ãƒãƒ¼ãƒ‰ã«ã¤ã„ã¦ã¯ã€StarRocks ã¯è¦ç´„æƒ…å ±ã®ã¿ã‚’è¿”ã—ã¾ã™ã€‚
=======
- `Node_ID`: ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒ¼ãƒ‰ IDã€‚ID ãŒæŒ‡å®šã•ã‚ŒãŸãƒãƒ¼ãƒ‰ã«ã¤ã„ã¦ã¯ã€StarRocks ã¯ãã®ãƒãƒ¼ãƒ‰ã®è©³ç´°ãªãƒ¡ãƒˆãƒªãƒƒã‚¯æƒ…å ±ã‚’è¿”ã—ã¾ã™ã€‚ID ãŒæŒ‡å®šã•ã‚Œã¦ã„ãªã„ãƒãƒ¼ãƒ‰ã«ã¤ã„ã¦ã¯ã€StarRocks ã¯è¦ç´„æƒ…å ±ã®ã¿ã‚’è¿”ã—ã¾ã™ã€‚
>>>>>>> 65a3c16e86 ([Doc] refactor query tuning best practice (#60935)):docs/ja/best_practices/query_tuning/query_profile_text_based_analysis.md

ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯ä»¥ä¸‹ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒå«ã¾ã‚Œã¾ã™ã€‚

- Summary: ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã®è¦ç´„æƒ…å ±ã€‚
  - QueryID
  - ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±
<<<<<<< HEAD:docs/ja/administration/query_profile_text_based_analysis.md
  - ã‚¯ã‚¨ãƒªã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆ`Finished`ã€`Error`ã€`Running` ã‚’å«ã‚€ï¼‰
  - ã‚¯ã‚¨ãƒªã®ç·æ™‚é–“
  - ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡
  - CPU ä½¿ç”¨ç‡ãŒæœ€ã‚‚é«˜ã„ä¸Šä½ 10 ãƒãƒ¼ãƒ‰
  - ãƒ¡ãƒ¢ãƒªä½¿ç”¨ç‡ãŒæœ€ã‚‚é«˜ã„ä¸Šä½ 10 ãƒãƒ¼ãƒ‰
  - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¨ç•°ãªã‚‹å€¤ã‚’æŒã¤ã‚»ãƒƒã‚·ãƒ§ãƒ³å¤‰æ•°
- Fragments: å„ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆå†…ã®å„ãƒãƒ¼ãƒ‰ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’è¡¨ç¤ºã€‚
  - å„ãƒãƒ¼ãƒ‰ã®æ™‚é–“ã€ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã€ã‚³ã‚¹ãƒˆæ¨å®šæƒ…å ±ã€å‡ºåŠ›è¡Œæ•°ã€‚
  - æ™‚é–“ä½¿ç”¨ç‡ãŒ 30% ã‚’è¶…ãˆã‚‹ãƒãƒ¼ãƒ‰ã¯èµ¤ã§å¼·èª¿è¡¨ç¤ºã€‚
  - æ™‚é–“ä½¿ç”¨ç‡ãŒ 15% ã‚’è¶…ãˆ 30% æœªæº€ã®ãƒãƒ¼ãƒ‰ã¯ãƒ”ãƒ³ã‚¯ã§å¼·èª¿è¡¨ç¤ºã€‚
=======
  - ã‚¯ã‚¨ãƒªã®çŠ¶æ…‹ï¼ˆ`Finished`ã€`Error`ã€`Running` ã‚’å«ã‚€ï¼‰
  - ç·ã‚¯ã‚¨ãƒªæ™‚é–“
  - ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡
  - CPU ä½¿ç”¨ç‡ãŒæœ€ã‚‚é«˜ã„ãƒˆãƒƒãƒ— 10 ãƒãƒ¼ãƒ‰
  - ãƒ¡ãƒ¢ãƒªä½¿ç”¨ç‡ãŒæœ€ã‚‚é«˜ã„ãƒˆãƒƒãƒ— 10 ãƒãƒ¼ãƒ‰
  - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¨ç•°ãªã‚‹å€¤ã‚’æŒã¤ã‚»ãƒƒã‚·ãƒ§ãƒ³å¤‰æ•°
- Fragments: å„ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆå†…ã®å„ãƒãƒ¼ãƒ‰ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’è¡¨ç¤ºã€‚
  - å„ãƒãƒ¼ãƒ‰ã®æ™‚é–“ã€ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã€ã‚³ã‚¹ãƒˆè¦‹ç©ã‚‚ã‚Šæƒ…å ±ã€ãŠã‚ˆã³å‡ºåŠ›è¡Œã€‚
  - æ™‚é–“ä½¿ç”¨ç‡ãŒ 30% ã‚’è¶…ãˆã‚‹ãƒãƒ¼ãƒ‰ã¯èµ¤ã§å¼·èª¿è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
  - æ™‚é–“ä½¿ç”¨ç‡ãŒ 15% ã‚’è¶…ãˆã€30% æœªæº€ã®ãƒãƒ¼ãƒ‰ã¯ãƒ”ãƒ³ã‚¯ã§å¼·èª¿è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
>>>>>>> 65a3c16e86 ([Doc] refactor query tuning best practice (#60935)):docs/ja/best_practices/query_tuning/query_profile_text_based_analysis.md

ä¾‹ 1: ãƒãƒ¼ãƒ‰ ID ã‚’æŒ‡å®šã›ãšã« Query Profile ã‚’ã‚¯ã‚¨ãƒªã€‚

![img](../../_assets/Profile/text_based_profile_without_node_id.jpeg)

ä¾‹ 2: Query Profile ã‚’ã‚¯ã‚¨ãƒªã—ã€ãƒãƒ¼ãƒ‰ ID ã‚’ `0` ã¨æŒ‡å®šã€‚StarRocks ã¯ãƒãƒ¼ãƒ‰ ID `0` ã®ã™ã¹ã¦ã®è©³ç´°ãªãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’è¿”ã—ã€å•é¡Œã®ç‰¹å®šã‚’å®¹æ˜“ã«ã™ã‚‹ãŸã‚ã«é«˜ä½¿ç”¨ç‡ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’å¼·èª¿è¡¨ç¤ºã—ã¾ã™ã€‚

![img](../../_assets/Profile/text_based_profile_with_node_id.jpeg)

<<<<<<< HEAD:docs/ja/administration/query_profile_text_based_analysis.md
ã•ã‚‰ã«ã€ä¸Šè¨˜ã®æ–¹æ³•ã¯å®Ÿè¡Œä¸­ã®ã‚¯ã‚¨ãƒªã®ãŸã‚ã«ç”Ÿæˆã•ã‚ŒãŸ Runtime Query Profile ã®è¡¨ç¤ºã¨åˆ†æã‚‚ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚Query Profile æ©Ÿèƒ½ãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ã‚‹å ´åˆã€ã“ã®æ–¹æ³•ã‚’ä½¿ç”¨ã—ã¦ 10 ç§’ä»¥ä¸Šå®Ÿè¡Œä¸­ã®ã‚¯ã‚¨ãƒªã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å–å¾—ã§ãã¾ã™ã€‚
=======
ã•ã‚‰ã«ã€ä¸Šè¨˜ã®æ–¹æ³•ã¯ã€å®Ÿè¡Œä¸­ã®ã‚¯ã‚¨ãƒªã«å¯¾ã—ã¦ç”Ÿæˆã•ã‚ŒãŸãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚ã‚‹ Runtime Query Profile ã®è¡¨ç¤ºã¨åˆ†æã‚‚ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚Query Profile æ©Ÿèƒ½ãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ã‚‹å ´åˆã€ã“ã®æ–¹æ³•ã‚’ä½¿ç”¨ã—ã¦ 10 ç§’ä»¥ä¸Šå®Ÿè¡Œä¸­ã®ã‚¯ã‚¨ãƒªã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å–å¾—ã§ãã¾ã™ã€‚
>>>>>>> 65a3c16e86 ([Doc] refactor query tuning best practice (#60935)):docs/ja/best_practices/query_tuning/query_profile_text_based_analysis.md

çµ‚äº†ã—ãŸã‚¯ã‚¨ãƒªã®ã‚‚ã®ã¨æ¯”è¼ƒã—ã¦ã€å®Ÿè¡Œä¸­ã®ã‚¯ã‚¨ãƒªã®ãƒ†ã‚­ã‚¹ãƒˆãƒ™ãƒ¼ã‚¹ã® Query Profile ã«ã¯ä»¥ä¸‹ã®æƒ…å ±ãŒå«ã¾ã‚Œã¾ã™ã€‚

<<<<<<< HEAD:docs/ja/administration/query_profile_text_based_analysis.md
- Operator ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:
  - â³: é–‹å§‹ã•ã‚Œã¦ã„ãªã„ Operatorã€‚ã“ã‚Œã‚‰ã® Operator ã¯ä¾å­˜é–¢ä¿‚ã®ãŸã‚ã«å®Ÿè¡ŒãŒé–‹å§‹ã•ã‚Œã¦ã„ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
  - ğŸš€: å®Ÿè¡Œä¸­ã® Operatorã€‚
  - âœ…: å®Ÿè¡ŒãŒçµ‚äº†ã—ãŸ Operatorã€‚

- å…¨ä½“ã®é€²æ—çŠ¶æ³: `å®Ÿè¡ŒãŒçµ‚äº†ã—ãŸ Operator ã®æ•° / Operator ã®ç·æ•°` ã«åŸºã¥ã„ã¦è¨ˆç®—ã•ã‚Œã¾ã™ã€‚ãƒ‡ãƒ¼ã‚¿è¡Œã®è©³ç´°æƒ…å ±ãŒä¸è¶³ã—ã¦ã„ã‚‹ãŸã‚ã€ã“ã®å€¤ã¯è‹¥å¹²æ­ªã‚€å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

- Operator ã®é€²æ—çŠ¶æ³: `å‡¦ç†ã•ã‚ŒãŸè¡Œæ•° / è¡Œã®ç·æ•°` ã«åŸºã¥ã„ã¦è¨ˆç®—ã•ã‚Œã¾ã™ã€‚è¡Œã®ç·æ•°ã‚’è¨ˆç®—ã§ããªã„å ´åˆã€é€²æ—ã¯ `?` ã¨è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
=======
- Operator ã®çŠ¶æ…‹:
  - â³: é–‹å§‹ã•ã‚Œã¦ã„ãªã„ Operatorã€‚ã“ã‚Œã‚‰ã® Operator ã¯ä¾å­˜é–¢ä¿‚ã®ãŸã‚ã«å®Ÿè¡Œã‚’é–‹å§‹ã—ã¦ã„ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
  - ğŸš€: å®Ÿè¡Œä¸­ã® Operatorã€‚
  - âœ…: å®Ÿè¡Œã‚’å®Œäº†ã—ãŸ Operatorã€‚

- å…¨ä½“ã®é€²æ—çŠ¶æ³: `å®Ÿè¡Œã‚’å®Œäº†ã—ãŸ Operator ã®æ•° / ç· Operator æ•°` ã«åŸºã¥ã„ã¦è¨ˆç®—ã•ã‚Œã¾ã™ã€‚ãƒ‡ãƒ¼ã‚¿è¡Œã®è©³ç´°æƒ…å ±ãŒä¸è¶³ã—ã¦ã„ã‚‹ãŸã‚ã€ã“ã®å€¤ã¯è‹¥å¹²æ­ªã‚€å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

- Operator ã®é€²æ—çŠ¶æ³: `å‡¦ç†ã•ã‚ŒãŸè¡Œæ•° / ç·è¡Œæ•°` ã«åŸºã¥ã„ã¦è¨ˆç®—ã•ã‚Œã¾ã™ã€‚ç·è¡Œæ•°ãŒè¨ˆç®—ã§ããªã„å ´åˆã€é€²æ—ã¯ `?` ã¨è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
>>>>>>> 65a3c16e86 ([Doc] refactor query tuning best practice (#60935)):docs/ja/best_practices/query_tuning/query_profile_text_based_analysis.md

ä¾‹:

![img](../../_assets/Profile/text_based_runtime_profile.jpeg)

## EXPLAIN ANALYZE ã‚’ä½¿ç”¨ã—ã¦ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«åˆ†æã®ãŸã‚ã«ã‚¯ã‚¨ãƒªã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã™ã‚‹

<<<<<<< HEAD:docs/ja/administration/query_profile_text_based_analysis.md
StarRocks ã¯ã€ã‚¯ã‚¨ãƒªã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç›´æ¥ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã—ã¦åˆ†æã™ã‚‹ãŸã‚ã® [EXPLAIN ANALYZE](../sql-reference/sql-statements/cluster-management/plan_profile/EXPLAIN_ANALYZE.md) ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã‚’æä¾›ã—ã¾ã™ã€‚æ§‹æ–‡ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚
=======
StarRocks ã¯ [EXPLAIN ANALYZE](../../sql-reference/sql-statements/cluster-management/plan_profile/EXPLAIN_ANALYZE.md) ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã‚’æä¾›ã—ã¦ãŠã‚Šã€ã‚¯ã‚¨ãƒªã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç›´æ¥ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã—ã¦åˆ†æã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚æ§‹æ–‡ã¯æ¬¡ã®ã¨ãŠã‚Šã§ã™ã€‚
>>>>>>> 65a3c16e86 ([Doc] refactor query tuning best practice (#60935)):docs/ja/best_practices/query_tuning/query_profile_text_based_analysis.md

```SQL
EXPLAIN ANALYZE <sql_statement>
```

`EXPLAIN ANALYZE` ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€StarRocks ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç¾åœ¨ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«å¯¾ã—ã¦ Query Profile æ©Ÿèƒ½ã‚’æœ‰åŠ¹ã«ã—ã¾ã™ã€‚

<<<<<<< HEAD:docs/ja/administration/query_profile_text_based_analysis.md
ç¾åœ¨ã€`EXPLAIN ANALYZE` ã¯ 2 ç¨®é¡ã® SQL ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™: SELECT ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã¨ INSERT INTO ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã€‚StarRocks ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚«ã‚¿ãƒ­ã‚°å†…ã®å†…éƒ¨ãƒ†ãƒ¼ãƒ–ãƒ«ã«å¯¾ã—ã¦ã®ã¿ã€INSERT INTO ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã® Query Profile ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã—ã¦åˆ†æã§ãã¾ã™ã€‚INSERT INTO ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã® Query Profile ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã—ã¦åˆ†æã™ã‚‹éš›ã€å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿ã¯ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã›ã‚“ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã€ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã¯ä¸­æ­¢ã•ã‚Œã€åˆ†æä¸­ã«ãƒ‡ãƒ¼ã‚¿ã«æ„å›³ã—ãªã„å¤‰æ›´ãŒåŠ ãˆã‚‰ã‚Œãªã„ã‚ˆã†ã«ã—ã¾ã™ã€‚
=======
ç¾åœ¨ã€`EXPLAIN ANALYZE` ã¯ 2 ç¨®é¡ã® SQL ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™: SELECT ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã¨ INSERT INTO ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã€‚StarRocks ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚«ã‚¿ãƒ­ã‚°å†…ã®å†…éƒ¨ãƒ†ãƒ¼ãƒ–ãƒ«ã«å¯¾ã—ã¦ã®ã¿ã€INSERT INTO ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã® Query Profile ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã—ã¦åˆ†æã§ãã¾ã™ã€‚INSERT INTO ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã® Query Profile ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã—ã¦åˆ†æã™ã‚‹éš›ã«ã¯ã€å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿ã¯ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã›ã‚“ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€åˆ†æä¸­ã«ãƒ‡ãƒ¼ã‚¿ã«æ„å›³ã—ãªã„å¤‰æ›´ãŒåŠ ãˆã‚‰ã‚Œãªã„ã‚ˆã†ã«ã€ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã¯ä¸­æ­¢ã•ã‚Œã¾ã™ã€‚
>>>>>>> 65a3c16e86 ([Doc] refactor query tuning best practice (#60935)):docs/ja/best_practices/query_tuning/query_profile_text_based_analysis.md

ä¾‹ 1: SELECT ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã—ã¦åˆ†æã€‚ã‚¯ã‚¨ãƒªçµæœã¯ç ´æ£„ã•ã‚Œã¾ã™ã€‚

![img](../../_assets/Profile/text_based_explain_analyze_select.jpeg)

ä¾‹ 2: INSERT INTO ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã—ã¦åˆ†æã€‚ãƒ­ãƒ¼ãƒ‰ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã¯ä¸­æ­¢ã•ã‚Œã¾ã™ã€‚

![img](../../_assets/Profile/text_based_explain_analyze_insert.jpeg)

## åˆ¶é™äº‹é …

- `EXPLAIN ANALYZE INSERT INTO` ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚«ã‚¿ãƒ­ã‚°å†…ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã«å¯¾ã—ã¦ã®ã¿ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚
- ã‚ˆã‚Šè‰¯ã„è¦–è¦šåŠ¹æœã‚’å¾—ã‚‹ãŸã‚ã«ã€å‡ºåŠ›ãƒ†ã‚­ã‚¹ãƒˆã«ã¯è‰²ã€ãƒã‚¤ãƒ©ã‚¤ãƒˆã€ãã®ä»–ã®æ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹ãŸã‚ã« ANSI æ–‡å­—ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚MyCLI ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ä½¿ç”¨ã‚’æ¨å¥¨ã—ã¾ã™ã€‚ANSI æ©Ÿèƒ½ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ãªã„ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼ˆMySQL ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãªã©ï¼‰ã§ã¯ã€è‹¥å¹²ã®è¡¨ç¤ºã®ä¹±ã‚ŒãŒç”Ÿã˜ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ãŒã€é€šå¸¸ã€ä½¿ç”¨ã«ã¯å½±éŸ¿ã—ã¾ã›ã‚“ã€‚ä¾‹ãˆã°:

![img](../../_assets/Profile/text_based_profile_not_aligned.jpeg)