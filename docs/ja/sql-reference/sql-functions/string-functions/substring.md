---
displayed_sidebar: docs
---

# substring, substr

## 説明

指定された位置から文字を抽出し、指定された長さの部分文字列を返します。

## 構文

```Haskell
VARCHAR substr(VARCHAR str, pos[, len])
```

## パラメータ

- `str`: 必須、文字を抽出する文字列。VARCHAR 値である必要があります。
- `pos`: 必須、開始位置を指定する整数。文字列の最初の文字は 1 であり、0 ではありません。
  - `pos` が 0 の場合、空の文字列が返されます。
  - `pos` は負の整数であることも可能です。この場合、この関数は文字列の末尾から文字を抽出します。例 2 を参照してください。
  - `pos` で指定された位置が文字列の範囲を超える場合、空の文字列が返されます。例 3 を参照してください。
- `len`: 任意、抽出する文字数を指定する正の整数。
  - `len` が指定されている場合、この関数は `pos` で指定された位置から `len` 文字を抽出します。
  - `len` が指定されていない場合、この関数は `pos` から始まるすべての文字を抽出します。例 1 を参照してください。
  - `len` が一致する文字の実際の長さを超える場合、すべての一致する文字が返されます。例 4 を参照してください。

## 戻り値

VARCHAR 型の値を返します。

## 例

```Plain Text
-- 最初の文字 "s" から始まるすべての文字を抽出します。
MySQL > select substring("starrockscluster", 1);
+-------------------------------------+
| substring('starrockscluster', 1) |
+-------------------------------------+
| starrocks                           |
+-------------------------------------+

-- 位置が負であり、文字列の末尾からカウントします。
MySQL > select substring("starrocks", -5, 5);
+-------------------------------+
| substring('starrocks', -5, 5) |
+-------------------------------+
| rocks                         |
+-------------------------------+

-- 位置が文字列の長さを超えており、空の文字列が返されます。
MySQL > select substring("apple", 8, 2);
+--------------------------------+
| substring('apple', 8, 2)       |
+--------------------------------+
|                                |
+--------------------------------+

-- 一致する文字が 5 文字あります。長さ 9 は一致する文字の長さを超えており、すべての一致する文字が返されます。
MySQL > select substring("apple", 1, 9);
+--------------------------+
| substring('apple', 1, 9) |
+--------------------------+
| apple                    |
+--------------------------+
```

## キーワード

substring, string, sub