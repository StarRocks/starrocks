---
displayed_sidebar: docs
---

# inspect_mv_refresh_info

`inspect_mv_refresh_info(mv_name)`

この関数は、マテリアライズドビューのリフレッシュ情報を返します。

## 引数

`mv_name`: マテリアライズドビューの名前 (VARCHAR)。

## 戻り値

マテリアライズドビューのリフレッシュ情報を含む JSON 形式の VARCHAR 文字列を返します。内容には以下が含まれます:
- `tableToUpdatePartitions`: MV のベーステーブルのリフレッシュ対象パーティションのメタ情報
- `baseOlapTableVisibleVersionMap`: MV の OLAP ベーステーブルの既にリフレッシュされたバージョンマップ
- `baseExternalTableInfoVisibleVersionMap`: MV の外部ベーステーブルの既にリフレッシュされたバージョンマップ

## 例

例1: マテリアライズドビューのリフレッシュ情報を検査して現在のリフレッシュ状況を確認する:
```
mysql> select inspect_mv_refresh_info('test_mv1');
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| inspect_mv_refresh_info('test_mv1')                                                                                                                                                                                          |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| {"tableToUpdatePartitions":{},"baseOlapTableVisibleVersionMap":{"ss":{"ss":{"id":28672,"version":4,"lastRefreshTime":1751439875145,"lastFileModifiedTime":-1,"fileNumber":-1}}},"baseExternalTableInfoVisibleVersionMap":{}} |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

```

