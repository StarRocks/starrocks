
| 方式                    | CREATE USER (ネイティブユーザー)                          | CREATE SECURITY INTEGRATION (セッションベースのダミーユーザー)    |
| ---------------------- | ------------------------------------------------------ | ------------------------------------------------------------ |
| 説明                    | クラスター内で手動でユーザーを作成します。外部認証システムと関連付けることができます。ユーザーはクラスター内に明示的に存在します。 | 外部認証統合を定義します。クラスターはユーザー情報を保存しません。オプションで Group Provider と組み合わせて許可されたユーザーを定義できます。 |
| ログインプロセス          | ユーザーはクラスター内で事前に作成されている必要があります。ログイン時に、ユーザーは StarRocks または設定された外部認証システム（例: LDAP, JWT）を介して認証されます。事前に作成されたユーザーのみがログインできます。 | ログイン時に、StarRocks は外部のアイデンティティシステムを使用してユーザーを認証します。成功すると、一時的なセッションスコープの「ダミーユーザー」が内部で作成されます。このユーザーはセッション終了後に破棄されます。 |
| 認証プロセス              | ユーザーがクラスター内に存在するため、ネイティブの認可システムまたは Apache Ranger を使用して事前に権限を割り当てることができます。 | ユーザーが仮想的でセッションベースであるため、システムはネイティブの認可を使用して事前に権限を割り当てることができません。認可は Apache Ranger に依存する必要があります。 |
| メリットとデメリット、使用例 | <ul><li>**メリット**: 完全な柔軟性—ネイティブおよび外部の認可システムの両方をサポートします。</li><li>**デメリット**: ユーザー作成に手間がかかり、面倒になる可能性があります。</li><li>**推奨されるケース**: 小規模なユーザーベースやクラスターがアクセス制御を行う場合。</li></ul> | <ul><li>**メリット**: 設定が簡単で、外部認証の設定と許可されたグループの定義のみが必要です。</li><li>**デメリット**: ユーザーレベルの権限にネイティブの IBAC を使用できません。</li><li>**推奨されるケース**: 統一された外部認証プラットフォームを持つ大規模な組織。</li></ul> |
